{% extends 'base.html' %}
{% load static %}

{% block title %}Añadir Docente{% endblock %}

{% block content %}

<div class="container-fluid mt-4">
  <h1>Añadir (Alta) Docente</h1>

  <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      
      {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
      {% endif %}

      <div class="caja border rounded p-4">
        
        <div class="caja border rounded p-3 mb-4">
          <h3>Datos Personales</h3>

          <div class="row mt-3">
             <div class="col-4">
                <label class="form-label text-danger fw-bold">Número de Empleado *</label>
                <input type="text" class="form-control" name="num_empleado" required placeholder="Ej: DOC-2024-001" />
             </div>
             <div class="col-4">
                <label class="form-label">Nombre(s) *</label>
                <input type="text" class="form-control" name="nombre" required />
             </div>
             <div class="col-4">
                <label class="form-label">Apellido Paterno *</label>
                <input type="text" class="form-control" name="ape_paterno" required />
             </div>
          </div>

          <div class="row mt-3">
            <div class="col-4">
              <label class="form-label">Apellido Materno</label>
              <input type="text" class="form-control" name="ape_materno" />
            </div>

           
     
            <div class="col-4">
    <label class="form-label">CURP</label>
    <input type="text" class="form-control" name="curp" maxlength="18" required />
    <div class="invalid-feedback">CURP inválido.</div>
</div>

<div class="col-4">
    <label class="form-label">RFC</label>
    <input type="text" class="form-control" name="rfc"  maxlength="13" required/>
    <div class="invalid-feedback">RFC inválido.</div>
</div>











          <div class="row mt-3">
            <div class="col-4">
              <label class="form-label">Fecha de Nacimiento</label>
              <input type="date" class="form-control" name="fecha_nacimiento" />
            </div>

            <div class="col-4">
              <label class="form-label">Sexo</label>
              <select class="form-select" name="sexo">
                <option value="">Seleccionar…</option>
                <option>Femenino</option>
                <option>Masculino</option>
                <option>Otro</option>
              </select>
            </div>

            <div class="col-4">
              <label class="form-label">Nacionalidad</label>
              <input type="text" class="form-control" name="nacionalidad" />
            </div>
          </div>
          
          <div class="row mt-3">
            <div class="col-6">
               <label class="form-label">Fotografía del Docente</label>
               <input type="file" class="form-control" name="foto" accept="image/*" />
            </div>
          </div>
        </div>

        <div class="caja border rounded p-3 mb-4">
          <h3>Contactos de Emergencia</h3>
          <p class="text-muted">Puedes agregar uno o varios contactos.</p>

          <div class="row mt-3">
            <div class="col-4">
              <label class="form-label">Nombre completo</label>
              <input type="text" class="form-control" name="contacto_nombre" />
            </div>

            <div class="col-4">
              <label class="form-label">Parentesco</label>
              <input type="text" class="form-control" name="contacto_parentesco" />
            </div>

            <div class="col-4">
    <label class="form-label">Teléfono Principal</label>
    <input type="tel" class="form-control" name="contacto_telefono" maxlength="10" />
    <div class="invalid-feedback">Debe tener 10 dígitos.</div>
</div>
          </div>

          <div class="row mt-3">
            <div class="col-4">
    <label class="form-label">Teléfono Secundario (Opcional)</label>
    <input type="tel" class="form-control" name="contacto_telefono2" maxlength="10" />
    <div class="invalid-feedback">Debe tener 10 dígitos.</div>
</div>

            <div class="col-8">
              <label class="form-label">Dirección</label>
              <input type="text" class="form-control" name="direccion" />
            </div>
          </div>

          <button type="button" class="btn btnContactoEmergencia mt-3 px-3" disabled title="Funcionalidad futura">
            Añadir otro contacto
          </button>
        </div>

        <div class="caja border rounded p-3 mb-4">
          <h3>Datos Profesionales</h3>

          <div class="row mt-3">
            <div class="col-6">
              <label class="form-label">Último grado académico</label>
              <select class="form-select" name="grado_academico">
                <option value="">Seleccionar…</option>
                <option>Licenciatura</option>
                <option>Maestría</option>
                <option>Doctorado</option>
                <option>Otro</option>
              </select>
            </div>

            <div class="col-6">
              <label class="form-label">Institución de procedencia</label>
              <input type="text" class="form-control" name="institucion_procedencia" />
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-4">
              <label class="form-label">Años de experiencia</label>
              <input type="number" class="form-control" name="anios_experiencia" />
            </div>

            <div class="col-8">
              <label class="form-label">Áreas de especialidad</label>
              <input
                type="text"
                class="form-control"
                placeholder="Ej: Matemáticas, Programación, Biología (separar por comas)"
                name="areas_especialidad"
              />
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-12">
              <label class="form-label">Experiencia laboral</label>
              <textarea class="form-control" rows="3" name="experiencia_laboral"></textarea>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-12">
              <label class="form-label">Certificaciones relevantes</label>
              <textarea class="form-control" rows="2" name="certificaciones"></textarea>
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-end mt-4">
          <a href="{% url 'consultar_docente' %}"  class="w-full sm:w-auto sm:ml-auto px-6 py-3 border border-charade-300 text-charade-700 font-medium rounded-lg hover:bg-white transition-colors text-center">
            Cancelar
          </a>
          <button type="submit" class="btn bg-blue-600 btnGuardarAlumno px-4 ml-4">
            Guardar Docente
          </button>
        </div>
      </div>
  </form>

<div class="mt-8 flex justify-center">
        <a href="{% url 'consultar_docente' %}"
            class="text-gray-500 hover:text-gray-800 font-medium text-sm flex items-center transition-colors">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18">
                </path>
            </svg>
            Regresar al listado
        </a>
    </div>
</div>

{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/scripts_docente.js' %}"></script>
{% endblock %}